{"ignition":{"config":{"merge":[{"compression":"gzip","source":"data:;base64,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"}]},"version":"3.4.0"},"storage":{"directories":[{"path":"/etc/caddy"}],"files":[{"path":"/etc/hostname","contents":{"compression":"","source":"data:,proxy.hnatekmar.xyz"},"mode":420},{"path":"/etc/caddy/Caddyfile","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/+RWW2/iOhB+z68YRefhHFRCApzC8lTaRe1K26VS2Wdk4iGxcDJZ22lJK/77ylxDSbdlX6hUS1hobp5vrnl2ADhO8sgB0KgeUGnotdstsIzVMSJByo0ukTZHIePjCfECgriaGSPjqKrYj0oYrGIILhHKjIVjfwvH+Tckpf8r+XFhCeNM4VSKKDbPTEXa8xeQoImJw/Bu9G34435ffCu0dm2oRCRS2JCdrXTMUuvJa28cRmNt8JCxOf0wRK3rV5QaRbLel5Ie6+v33Y1h9zj12yVUDe71YHQGd8N7e/+0V390dXMGXwffB6PB2SYWR1q/WULSUHuv2i2b1/sRgts69/3XH+M4RXXAXVTUkM4o5eC60PTbpYqozNLHyc1gnpHGd4TvrUAs695hJhepF6fM4CxhypsXT0soCm3D4jhTNC+gBkGn6QXnXuD7XtBs97rdbtfqZ6QMEymq40188X3fmqhSXKcmZJwXNj9LwUgYySZHPhR0el3fATByM2V4qiEjNZvk6TZpLBPjGRbw/M/W+nhNW5RENIYKzYHkjrwS3k4VhZHQRhX1v3X9fxujEznPchNjasTswG0HQCQ282BbA2JjMt1rNFI0E6H4vvgBRkkhkzFpsyqAU6ELiR9dtEG71/G7p/M5EUqRqtcq3L6YSApnyCElAwoTMjgW2Z73jWa71FtbBfdy9ceFtt/6cwCawQnTlUyLXHxC5CQlS9gnBB4Jg1W4q0bPIxHPMJy9bOkluF85arP6ltwt6YTNx1o8IQSd60tnvff3A2GN9xqNvQnQ6rVOObW0kLIw7AFV+gkrQqRTmc9PCPxEuJ3am4uqQbnJSBsvot3eFtSobar4xdr9oEiZjOgBQ0PKCympwFlOaStYNePCBugYzaPw7Qy/CbAk+hrC3wEAAP//NcrFORUPAAA="},"mode":420},{"path":"/etc/NetworkManager/system-connections/ens18.nmconnection","contents":{"compression":"","source":"data:,%5Bconnection%5D%0Aid%3Dens18%0Atype%3Dethernet%0Ainterface-name%3Dens18%0A%5Bipv4%5D%0Aaddress1%3D172.16.100.63%2F24%2C172.16.100.1%0Adns%3D8.8.8.8%3B%0Adns-search%3D%0Amay-fail%3Dfalse%0Amethod%3Dmanual%0A"},"mode":384},{"path":"/etc/containers/systemd/caddy.container","contents":{"compression":"gzip","source":"data:;base64,H4sIAAAAAAAC/3SPwUrDQBCG7/MUeYGmheZQAnuxVugtWNRDyWHcTNPBzWydna2JTy9BwXrw8jP8ww/fd3wSthbuKXnli3EUd3jP3BWNxnEqDqRXUthG6Xh+Nmjn3cjJkluS+aXHrpu+syS5Ahy3UQxZSFvYD9iT69kIy7Og0duAWo7T5/KSXwP/rOuARsmgmbt0bqKa26zqzepPU1XruqrWsBvJO81SLBY+yon74oZjO+eJA8FzDHmgG8b69wSAnVxZowwk9sCB/nOZ7dlTC4+UDNUchg+cEsBxL8kwhBZeUIy6u8kNORgvciItDbUng68AAAD//wJlvY9bAQAA"},"mode":420}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=Retrieve token from Vault for telegraf\nConditionPathExists=/root/.vault-token\nConditionPathExists=!/etc/caddy/caddy.env\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStart=/bin/bash -c 'echo hnatekmar_secret_key=$(/usr/bin/podman run -e BAO_ADDR=https://openbao.hnatekmar.xyz -e VAULT_TOKEN=$(cat /root/.vault-token) -ti quay.io/openbao/openbao kv get -format=json -field=hnatekmar_secret_key secret/server/caddy) \u003e /etc/caddy/caddy.env'\nExecStart=/bin/bash -c 'echo hnatekmar_api_key=$(/usr/bin/podman run -e BAO_ADDR=https://openbao.hnatekmar.xyz -e VAULT_TOKEN=$(cat /root/.vault-token) -ti quay.io/openbao/openbao kv get -format=json -field=hnatekmar_api_key secret/server/caddy) \u003e\u003e /etc/caddy/caddy.env'\nExecStart=/bin/bash -c 'echo algovector_secret_key=$(/usr/bin/podman run -e BAO_ADDR=https://openbao.hnatekmar.xyz -e VAULT_TOKEN=$(cat /root/.vault-token) -ti quay.io/openbao/openbao kv get -format=json -field=algovector_api_key secret/server/caddy) \u003e\u003e /etc/caddy/caddy.env'\nExecStart=/bin/bash -c 'echo algovector_api_key=$(/usr/bin/podman run -e BAO_ADDR=https://openbao.hnatekmar.xyz -e VAULT_TOKEN=$(cat /root/.vault-token) -ti quay.io/openbao/openbao kv get -format=json -field=hnatekmar_api_key secret/server/caddy) \u003e\u003e /etc/caddy/caddy.env'\n\n[Install]\nWantedBy=default.target\n","enabled":true,"name":"caddy-env.service"}]}}
